{"ast":null,"code":"import _slicedToArray from \"/home/issam/Desktop/WebDev/Barmej_Bootcamp/03_ReactJS_/Project/Fullstck-Project-4-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/issam/Desktop/WebDev/Barmej_Bootcamp/03_ReactJS_/Project/Fullstck-Project-4-master/src/pages/ProductPage.js\";\nimport React, { useState } from 'react';\nimport Details from '../components/Details';\nimport ProductsGrid from \"../components/ProductsGrid\";\nimport { useParams } from 'react-router-dom';\nexport default function ProductPage(props) {\n  const itemName = useParams().id;\n  const item = props.items.filter(item => {\n    return item.name === itemName;\n  })[0]; // how many time the item appear in the orders = Calulate the quantity of the item in the cart\n  // const[quantity,setQuantity] = useState(0)\n  //--- count how many same item in the order list\n  //1- create array of only same order li raho f URL\n\n  const currentItem = props.orders.filter(item => {\n    return item.name === itemName;\n  });\n  console.log('cuuuuuuuuuuuuuuuurent item');\n  console.log(currentItem);\n  const itemQuantity = currentItem.length; // setQuantity(currentItem.length)\n  //#########################\n  // cart order stats\n\n  let _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      order = _useState2[0],\n      setOrder = _useState2[1]; // state to track repeated items\n  // let [rep,setRep] = useState([])\n  // let rep = []\n  // pass the new order name to the <App/>\n\n\n  function handlCartData(newOrderName) {\n    //setOrder(newOrderName)\n    // props.cartChange(order)\n    props.cartChange(newOrderName); // update the quanttiy of the item \n    // let itemQuantity = props.items.filter(item => item.name === itemName);\n    // let count = 0;\n    // props.orders.forEach(item => {\n    //     if (item.name===itemName) {\n    //         setQuantity(quantity+1)\n    //     }\n    // });\n    // console.log(props.orders);\n    // setQuantity(itemQuantity)\n    // console.log(dataFromChild);\n    //setRep([...rep,dataFromChild]);\n    // rep.forEach(item => {\n    //     if (item===itemName) {\n    //         setQuantity(quantity+1)\n    //     }\n    // });\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(Details, {\n    quantity: itemQuantity,\n    item: item,\n    cartChange: handlCartData,\n    orders: props.orders,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }), React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \"orders :  \", order, \" \"), React.createElement(\"h3\", {\n    className: \"grid-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"Might also like\"), React.createElement(ProductsGrid, {\n    limit: 3,\n    items: props.items,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }));\n}","map":{"version":3,"sources":["/home/issam/Desktop/WebDev/Barmej_Bootcamp/03_ReactJS_/Project/Fullstck-Project-4-master/src/pages/ProductPage.js"],"names":["React","useState","Details","ProductsGrid","useParams","ProductPage","props","itemName","id","item","items","filter","name","currentItem","orders","console","log","itemQuantity","length","order","setOrder","handlCartData","newOrderName","cartChange"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,SAASC,SAAT,QAA0B,kBAA1B;AAEA,eAAe,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AACvC,QAAMC,QAAQ,GAAGH,SAAS,GAAGI,EAA7B;AACA,QAAMC,IAAI,GAAGH,KAAK,CAACI,KAAN,CAAYC,MAAZ,CAAoBF,IAAD,IAAQ;AACpC,WAAOA,IAAI,CAACG,IAAL,KAAcL,QAArB;AACH,GAFY,EAEV,CAFU,CAAb,CAFuC,CAMvC;AACA;AACA;AAEA;;AACA,QAAMM,WAAW,GAAGP,KAAK,CAACQ,MAAN,CAAaH,MAAb,CAAqBF,IAAD,IAAQ;AAC5C,WAAOA,IAAI,CAACG,IAAL,KAAcL,QAArB;AACH,GAFmB,CAApB;AAGAQ,EAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYH,WAAZ;AACA,QAAMI,YAAY,GAAGJ,WAAW,CAACK,MAAjC,CAhBuC,CAiBvC;AACA;AACA;;AAnBuC,kBAoBhBjB,QAAQ,CAAC,EAAD,CApBQ;AAAA;AAAA,MAoBlCkB,KApBkC;AAAA,MAoB5BC,QApB4B,kBAqBvC;AACA;AACA;AACA;;;AACA,WAASC,aAAT,CAAuBC,YAAvB,EAAqC;AACjC;AACA;AACAhB,IAAAA,KAAK,CAACiB,UAAN,CAAiBD,YAAjB,EAHiC,CAIjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD;AACC;AACA;AACA;AACA;AACA;AACA;AAEH;;AAED,SACI,0CACI,oBAAC,OAAD;AAAS,IAAA,QAAQ,EAAGL,YAApB;AAAkC,IAAA,IAAI,EAAIR,IAA1C;AAAgD,IAAA,UAAU,EAAEY,aAA5D;AAA2E,IAAA,MAAM,EAAEf,KAAK,CAACQ,MAAzF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAeK,KAAf,MAFJ,EAGI;AAAI,IAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAHJ,EAII,oBAAC,YAAD;AAAc,IAAA,KAAK,EAAE,CAArB;AAAwB,IAAA,KAAK,EAAEb,KAAK,CAACI,KAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,CADJ;AASH","sourcesContent":["import React, { useState } from 'react'\nimport Details from '../components/Details'\nimport ProductsGrid from \"../components/ProductsGrid\"\nimport { useParams } from 'react-router-dom'\n\nexport default function ProductPage(props) {\n    const itemName = useParams().id\n    const item = props.items.filter((item)=>{\n        return item.name === itemName\n    })[0];\n\n    // how many time the item appear in the orders = Calulate the quantity of the item in the cart\n    // const[quantity,setQuantity] = useState(0)\n    //--- count how many same item in the order list\n    \n    //1- create array of only same order li raho f URL\n    const currentItem = props.orders.filter((item)=>{\n        return item.name === itemName\n    })\n    console.log('cuuuuuuuuuuuuuuuurent item');\n    console.log(currentItem);\n    const itemQuantity = currentItem.length\n    // setQuantity(currentItem.length)\n    //#########################\n    // cart order stats\n    let [order,setOrder] = useState([])\n    // state to track repeated items\n    // let [rep,setRep] = useState([])\n    // let rep = []\n    // pass the new order name to the <App/>\n    function handlCartData(newOrderName) {\n        //setOrder(newOrderName)\n        // props.cartChange(order)\n        props.cartChange(newOrderName)\n        // update the quanttiy of the item \n        // let itemQuantity = props.items.filter(item => item.name === itemName);\n        // let count = 0;\n        // props.orders.forEach(item => {\n        //     if (item.name===itemName) {\n        //         setQuantity(quantity+1)\n        //     }\n        // });\n        // console.log(props.orders);\n        // setQuantity(itemQuantity)\n       // console.log(dataFromChild);\n        //setRep([...rep,dataFromChild]);\n        // rep.forEach(item => {\n        //     if (item===itemName) {\n        //         setQuantity(quantity+1)\n        //     }\n        // });\n        \n    }\n\n    return (\n        <>\n            <Details quantity= {itemQuantity} item = {item} cartChange={handlCartData} orders={props.orders}/>\n            <h1>orders :  {order} </h1>\n            <h3 className='grid-title'>Might also like</h3>\n            <ProductsGrid limit={3} items={props.items} />\n\n        </>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}