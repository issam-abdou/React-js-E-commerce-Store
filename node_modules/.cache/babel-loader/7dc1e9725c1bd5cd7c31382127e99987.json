{"ast":null,"code":"import _slicedToArray from \"/home/issam/Desktop/WebDev/Barmej_Bootcamp/03_ReactJS_/Project/Fullstck-Project-4-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/issam/Desktop/WebDev/Barmej_Bootcamp/03_ReactJS_/Project/Fullstck-Project-4-master/src/pages/ProductPage.js\";\nimport React, { useState } from 'react';\nimport Details from '../components/Details';\nimport ProductsGrid from \"../components/ProductsGrid\";\nimport { useParams } from 'react-router-dom';\nexport default function ProductPage(props) {\n  const itemName = useParams().id;\n  const item = props.items.filter(item => {\n    return item.name === itemName;\n  })[0]; // how many time the item appear in the orders = Calulate the quantity of the item in the cart\n\n  const _useState = useState(0),\n        _useState2 = _slicedToArray(_useState, 2),\n        quantity = _useState2[0],\n        setQuantity = _useState2[1]; //#########################\n  // cart order stats\n\n\n  let _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      order = _useState4[0],\n      setOrder = _useState4[1];\n\n  let rep = [];\n\n  function handlCartData(dataFromChild) {\n    setOrder(dataFromChild); // props.cartChange(order)\n\n    props.cartChange(dataFromChild); // update the quanttiy of the item \n\n    let itemQuantity = props.items.filter(item => item.name === itemName);\n    let count = 0;\n    props.orders.forEach(item => {\n      if (item.name === itemName) {\n        setQuantity(quantity + 1);\n      }\n    }); // console.log(props.orders);\n    // setQuantity(itemQuantity)\n\n    console.log(dataFromChild);\n    rep.push(dataFromChild);\n    console.log(rep);\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(Details, {\n    quantity: quantity,\n    item: item,\n    cartChange: handlCartData,\n    orders: props.orders,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }), React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"orders :  \", order, \" \"), React.createElement(ProductsGrid, {\n    limit: 3,\n    items: props.items,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }));\n}","map":{"version":3,"sources":["/home/issam/Desktop/WebDev/Barmej_Bootcamp/03_ReactJS_/Project/Fullstck-Project-4-master/src/pages/ProductPage.js"],"names":["React","useState","Details","ProductsGrid","useParams","ProductPage","props","itemName","id","item","items","filter","name","quantity","setQuantity","order","setOrder","rep","handlCartData","dataFromChild","cartChange","itemQuantity","count","orders","forEach","console","log","push"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,SAASC,SAAT,QAA0B,kBAA1B;AAEA,eAAe,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AACvC,QAAMC,QAAQ,GAAGH,SAAS,GAAGI,EAA7B;AACA,QAAMC,IAAI,GAAGH,KAAK,CAACI,KAAN,CAAYC,MAAZ,CAAoBF,IAAD,IAAQ;AACpC,WAAOA,IAAI,CAACG,IAAL,KAAcL,QAArB;AACH,GAFY,EAEV,CAFU,CAAb,CAFuC,CAMvC;;AANuC,oBAOTN,QAAQ,CAAC,CAAD,CAPC;AAAA;AAAA,QAOjCY,QAPiC;AAAA,QAOxBC,WAPwB,kBAUvC;AACA;;;AAXuC,mBAYhBb,QAAQ,CAAC,EAAD,CAZQ;AAAA;AAAA,MAYlCc,KAZkC;AAAA,MAY5BC,QAZ4B;;AAavC,MAAIC,GAAG,GAAG,EAAV;;AACA,WAASC,aAAT,CAAuBC,aAAvB,EAAsC;AAClCH,IAAAA,QAAQ,CAACG,aAAD,CAAR,CADkC,CAElC;;AACAb,IAAAA,KAAK,CAACc,UAAN,CAAiBD,aAAjB,EAHkC,CAIlC;;AACA,QAAIE,YAAY,GAAGf,KAAK,CAACI,KAAN,CAAYC,MAAZ,CAAmBF,IAAI,IAAIA,IAAI,CAACG,IAAL,KAAcL,QAAzC,CAAnB;AACA,QAAIe,KAAK,GAAG,CAAZ;AACAhB,IAAAA,KAAK,CAACiB,MAAN,CAAaC,OAAb,CAAqBf,IAAI,IAAI;AACzB,UAAIA,IAAI,CAACG,IAAL,KAAYL,QAAhB,EAA0B;AACtBO,QAAAA,WAAW,CAACD,QAAQ,GAAC,CAAV,CAAX;AACH;AACJ,KAJD,EAPkC,CAYlC;AACA;;AACAY,IAAAA,OAAO,CAACC,GAAR,CAAYP,aAAZ;AACAF,IAAAA,GAAG,CAACU,IAAJ,CAASR,aAAT;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAYT,GAAZ;AACH;;AAED,SACI,0CACI,oBAAC,OAAD;AAAS,IAAA,QAAQ,EAAGJ,QAApB;AAA8B,IAAA,IAAI,EAAIJ,IAAtC;AAA4C,IAAA,UAAU,EAAES,aAAxD;AAAuE,IAAA,MAAM,EAAEZ,KAAK,CAACiB,MAArF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAeR,KAAf,MAFJ,EAGI,oBAAC,YAAD;AAAc,IAAA,KAAK,EAAE,CAArB;AAAwB,IAAA,KAAK,EAAET,KAAK,CAACI,KAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CADJ;AAQH","sourcesContent":["import React, { useState } from 'react'\nimport Details from '../components/Details'\nimport ProductsGrid from \"../components/ProductsGrid\"\nimport { useParams } from 'react-router-dom'\n\nexport default function ProductPage(props) {\n    const itemName = useParams().id\n    const item = props.items.filter((item)=>{\n        return item.name === itemName\n    })[0];\n\n    // how many time the item appear in the orders = Calulate the quantity of the item in the cart\n    const[quantity,setQuantity] = useState(0)\n    \n    \n    //#########################\n    // cart order stats\n    let [order,setOrder] = useState([])\n    let rep = []\n    function handlCartData(dataFromChild) {\n        setOrder(dataFromChild)\n        // props.cartChange(order)\n        props.cartChange(dataFromChild)\n        // update the quanttiy of the item \n        let itemQuantity = props.items.filter(item => item.name === itemName);\n        let count = 0;\n        props.orders.forEach(item => {\n            if (item.name===itemName) {\n                setQuantity(quantity+1)\n            }\n        });\n        // console.log(props.orders);\n        // setQuantity(itemQuantity)\n        console.log(dataFromChild);\n        rep.push(dataFromChild)\n        console.log(rep);\n    }\n\n    return (\n        <>\n            <Details quantity= {quantity} item = {item} cartChange={handlCartData} orders={props.orders}/>\n            <h1>orders :  {order} </h1>\n            <ProductsGrid limit={3} items={props.items} />\n\n        </>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}